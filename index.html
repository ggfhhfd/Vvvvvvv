<div id="mainContainer" style="max-width: 450px; margin: 50px auto; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #ffffff; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; border: 1px solid #eee;">
    
    <h2 id="statusText" style="color: #333; margin-bottom: 10px;">⏳ جاري التحميل...</h2>
    <p id="percentageText" style="font-size: 24px; font-weight: bold; color: #28a745; margin: 0;">0%</p>
    
    <div style="width: 100%; background: #e0e0e0; height: 15px; border-radius: 10px; margin: 20px 0; overflow: hidden; position: relative;">
        <div id="bufferedBar" style="width: 0%; background: linear-gradient(90deg, #28a745, #85e085); height: 100%; transition: 0.4s ease-out;"></div>
    </div>

    <p style="font-size: 14px; color: #777; line-height: 1.6;">بسبب حجم الفيديو (167MB)، يرجى عدم إغلاق الصفحة حتى يكتمل الخط الأخضر.</p>

    <button onclick="location.reload()" style="margin-top: 20px; background: #ff4444; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">❌ إلغاء التحميل والعودة</button>

    <video id="myVideo" preload="auto" style="display: none; width: 100%; border-radius: 15px; margin-top: 20px;">
        <source src="رابط_الفيديو_المباشر_هنا" type="video/mp4">
    </video>
</div>

<script>
    const video = document.getElementById('myVideo');
    const bufferedBar = document.getElementById('bufferedBar');
    const statusText = document.getElementById('statusText');
    const percentageText = document.getElementById('percentageText');

    video.addEventListener('progress', () => {
        if (video.buffered.length > 0) {
            const bufferedEnd = video.buffered.end(video.buffered.length - 1);
            const duration = video.duration;
            if (duration > 0) {
                const percent = Math.round((bufferedEnd / duration) * 100);
                bufferedBar.style.width = percent + '%';
                percentageText.innerText = percent + '%';

                if (percent >= 99) {
                    statusText.innerText = "✅ الفيديو جاهز!";
                    statusText.style.color = "#28a745";
                    video.style.display = "block"; 
                    percentageText.style.display = "none";
                }
            }
        }
    });

    // تشغيل الفيديو تلقائياً في الخلفية ليبدأ التحميل
    video.load();
</script>
