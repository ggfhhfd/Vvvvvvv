<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <style>
        body { background: #121212; color: white; font-family: sans-serif; text-align: center; padding: 20px; }
        textarea { width: 90%; height: 100px; padding: 15px; border-radius: 10px; background: #1e1e1e; color: white; border: 1px solid #333; font-size: 18px; margin-bottom: 15px; }
        select { width: 90%; padding: 12px; border-radius: 8px; background: #333; color: white; border: 1px solid #444; margin-bottom: 15px; cursor: pointer; }
        button { padding: 15px 30px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; background: #28a745; color: white; font-size: 18px; transition: 0.3s; }
        button:hover { background: #218838; }
    </style>
</head>
<body>

    <h2>ğŸ¤ Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØª Ø§Ù„Ù„ÙŠ ÙŠØ¹Ø¬Ø¨Ùƒ</h2>
    
    <textarea id="inputText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§..."></textarea>
    
    <p>Ø§Ø®ØªØ± Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø¬Ù‡Ø§Ø²Ùƒ:</p>
    <select id="voiceSelect">
        <option value="">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª...</option>
    </select>
    
    <br>
    <button onclick="speakText()">ğŸ“£ Ù†Ø·Ù‚ Ø§Ù„Ù†Øµ Ø¨Ø§Ù„ØµÙˆØª Ø§Ù„Ù…Ø®ØªØ§Ø±</button>

    <script>
        const voiceSelect = document.getElementById('voiceSelect');
        const inputText = document.getElementById('inputText');
        let voices = [];

        // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… (Ø¢ÙŠÙÙˆÙ†ØŒ Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ØŒ ÙˆÙŠÙ†Ø¯ÙˆØ²)
        function loadVoices() {
            voices = window.speechSynthesis.getVoices();
            voiceSelect.innerHTML = ''; // Ù…Ø³Ø­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            
            voices.forEach((voice, i) => {
                const option = document.createElement('option');
                option.value = i;
                // Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ù„ØºØ© Ø¹Ø´Ø§Ù† ØªÙØ±Ù‚ Ø¨ÙŠÙ†Ù‡Ù…
                option.textContent = `${voice.name} (${voice.lang})`;
                
                // ØªØ­Ø¯ÙŠØ¯ ØµÙˆØª "Ù…Ø§Ø¬Ø¯" Ø£Ùˆ Ø£ØµÙˆØ§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ùˆ Ù„Ù‚ÙŠØªÙ‡Ø§
                if (voice.lang.includes('ar')) {
                    option.selected = true;
                }
                voiceSelect.appendChild(option);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ ØªØºÙŠØ± Ø§Ù„Ø£ØµÙˆØ§Øª (Ø¶Ø±ÙˆØ±ÙŠ Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
        window.speechSynthesis.onvoiceschanged = loadVoices;
        loadVoices();

        function speakText() {
            const text = inputText.value;
            if (!text) return alert("Ø§ÙƒØªØ¨ Ø´ÙŠ ÙŠØ§ Ø®ÙˆÙŠ!");

            window.speechSynthesis.cancel(); // Ø¥Ù„ØºØ§Ø¡ Ø£ÙŠ Ù†Ø·Ù‚ Ø´ØºØ§Ù„

            const msg = new SpeechSynthesisUtterance(text);
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØª Ø§Ù„Ù„ÙŠ Ø­Ø¯Ø¯ØªÙ‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            if (voices[voiceSelect.value]) {
                msg.voice = voices[voiceSelect.value];
            }

            msg.rate = 0.9; // Ø³Ø±Ø¹Ø© Ø§Ù„Ù†Ø·Ù‚
            msg.pitch = 1.0; // Ø¯Ø±Ø¬Ø© Ø§Ù„ØµÙˆØª
            
            window.speechSynthesis.speak(msg);
        }
    </script>
</body>
</html>
