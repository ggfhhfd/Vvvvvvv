<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ - Ø³Ø¨ÙŠØ³ØªÙˆÙ†</title>
    <style>
        body { font-family: sans-serif; text-align: center; background-color: #f0f2f5; padding: 20px; }
        .container { max-width: 500px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        video { width: 100%; border-radius: 10px; display: none; margin-top: 20px; background: #000; }
        .btn { background-color: #28a745; color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; width: 100%; font-size: 18px; font-weight: bold; }
        .btn:disabled { background-color: #ccc; }
        #status { margin-top: 15px; color: #555; font-size: 14px; line-height: 1.6; }
        .loader { width: 100%; height: 8px; background: #eee; border-radius: 4px; display: none; margin-top: 10px; overflow: hidden; }
        #progress { width: 0%; height: 100%; background: #007bff; transition: 0.3s; }
    </style>
</head>
<body>

<div class="container">
    <h2>Ø°ÙƒØ±ÙŠØ§Øª Ø³Ø¨ÙŠØ³ØªÙˆÙ† ğŸ“º</h2>
    <p>Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ù„Ù„ØªØ­Ù…ÙŠÙ„ØŒ ÙˆØ¨Ø¹Ø¯Ù‡Ø§ ØªÙ‚Ø¯Ø± ØªØ´ÙˆÙÙ‡ Ø¨Ø¯ÙˆÙ† Ù†Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.</p>
    
    <button id="dlBtn" class="btn">ğŸ“¥ Ø§Ø¨Ø¯Ø£ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
    <div class="loader" id="loader"><div id="progress"></div></div>
    <p id="status">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù…ÙŠÙ„...</p>

    <video id="player" controls playsinline></video>
</div>

<script>
    // Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ Ø¨Ø±ÙˆÙƒØ³ÙŠ Ù„ÙÙƒ Ø§Ù„Ø­Ù…Ø§ÙŠØ©
    const ORIGIN_URL = "https://abra--5e4bd524.api.cosmic-crab.buzz/b98e33291feff0d904d03c937e7c922a96983a5a/Old%20Cartoon%20Mix%20Part%205/%D8%B7%D9%85%20%D8%B7%D9%85/E01.mp4?api-key=8acbcf1e-732c-4574-a3bf-27e6a85b86f1&download=true&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjgxNTkwNjUsInJhdGUiOiI1TSIsInJvbGUiOiJmcmVlIiwic2Vzc2lvbklEIjoiTVRjMk5qTXpORGMxTW54T2QzZEJUa1pzVUZORk5VUlJWbWhZVlZVMVVGTlZiRk5VVm1kNVYxWnNVMVpGUmtWU1JWRXdUVEE1V0ZacVVrbE5hazVLVTBVMVNGTlZNVWRXYTNoaFRXc3hSVlpFV2tkTk1FVTlmUFhVQTl0VjJsOURkcEh0RGEzVjJoTlM1N1lzV3Rfd0s2VW5sUGl6N2tOUyIsImRvbWFpbiI6IndlYnRvci5pbyIsImFnZW50IjoiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzE2LjYuMSBTYWZhcmkvNjA1LjEuMTUiLCJyZW1vdGVBZGRyZXNzIjoiMjAwMToxNmE0OjJlNzphZjk1OjZkOTQ6ZDE2Nzo0OWE6NWJhNSJ9.Q2DF8i-RnXFFZCoymS9vijB_B7MDPcXwXEAXgK8x-fI";
    const PROXY_URL = "https://api.allorigins.win/raw?url=" + encodeURIComponent(ORIGIN_URL);

    const dlBtn = document.getElementById('dlBtn');
    const player = document.getElementById('player');
    const status = document.getElementById('status');
    const loader = document.getElementById('loader');
    const progress = document.getElementById('progress');

    let db;
    const req = indexedDB.open("VideoStore", 1);
    req.onupgradeneeded = e => e.target.result.createObjectStore("files");
    req.onsuccess = e => {
        db = e.target.result;
        checkSaved();
    };

    function checkSaved() {
        const tx = db.transaction("files", "readonly");
        const store = tx.objectStore("files").get("konan");
        store.onsuccess = () => {
            if (store.result) {
                const url = URL.createObjectURL(store.result);
                player.src = url;
                player.style.display = 'block';
                status.innerHTML = "âœ… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ø­ÙÙˆØ¸ Ø§Ù„Ø¢Ù† ÙÙŠ Ù‡Ø§ØªÙÙƒ.<br>Ø¬Ø±Ø¨ Ø·ÙÙŠ Ø§Ù„Ù†Øª ÙˆØ´ØºÙ„ Ø§Ù„ØµÙØ­Ø©!";
                dlBtn.style.display = 'none';
            }
        };
    }

    dlBtn.onclick = async () => {
        dlBtn.disabled = true;
        status.innerText = "Ø¬Ø§Ø±ÙŠ ÙƒØ³Ø± Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ... Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹";
        loader.style.display = 'block';

        try {
            const response = await fetch(PROXY_URL);
            if (!response.ok) throw new Error();
            
            const blob = await response.blob();
            const tx = db.transaction("files", "readwrite");
            tx.objectStore("files").put(blob, "konan");
            
            tx.oncomplete = () => {
                location.reload();
            };
        } catch (err) {
            status.innerText = "ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„. Ø§Ù„Ø±Ø§Ø¨Ø· Ù‚Ø¯ÙŠÙ… Ø£Ùˆ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù…Ø­Ù…ÙŠ Ø¬Ø¯Ø§Ù‹. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
            dlBtn.disabled = false;
        }
    };
</script>
</body>
</html>
