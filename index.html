<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <style>
        body { background: #1a1a1a; color: white; font-family: sans-serif; text-align: center; padding: 40px; }
        textarea { width: 90%; height: 100px; padding: 15px; border-radius: 12px; background: #2c2c2c; color: white; border: 1px solid #444; font-size: 18px; }
        button { margin-top: 20px; padding: 15px 30px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; background: #007bff; color: white; font-size: 18px; }
        #status { margin-top: 20px; color: #ffca28; }
    </style>
</head>
<body>

    <h2>ğŸ—£ï¸ ØµÙˆØª Ù…ØªØ±Ø¬Ù… Ø¢ÙŠÙÙˆÙ† (Ø§Ù„Ø²Ù…Ù† Ø§Ù„Ø¬Ù…ÙŠÙ„)</h2>
    <textarea id="inputText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ Ù„Ø³Ù…Ø§Ø¹Ù‡ Ø¨ØµÙˆØª Ø§Ù„Ø±Ø¬Ù„..."></textarea>
    <br>
    <button onclick="speakLikeOldIphone()">Ù†Ø·Ù‚ Ø¨ØµÙˆØª Ø§Ù„Ø±Ø¬Ù„</button>
    <p id="status"></p>

    <script>
        function speakLikeOldIphone() {
            const text = document.getElementById('inputText').value;
            if (!text) return alert("Ø§ÙƒØªØ¨ Ø´ÙŠ ÙŠØ§ Ø®ÙˆÙŠ!");

            // Ø¥Ù„ØºØ§Ø¡ Ø£ÙŠ Ù†Ø·Ù‚ Ø³Ø§Ø¨Ù‚
            window.speechSynthesis.cancel();

            const msg = new SpeechSynthesisUtterance();
            msg.text = text;
            msg.lang = 'ar-SA'; 

            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ØµÙˆØª Ø±Ø¬Ø§Ù„ÙŠ Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…
            const voices = window.speechSynthesis.getVoices();
            const maleVoice = voices.find(voice => 
                voice.lang.includes('ar') && (voice.name.toLowerCase().includes('male') || voice.name.toLowerCase().includes('maged'))
            );

            if (maleVoice) {
                msg.voice = maleVoice;
            }

            // Ø§Ù„Ø²Ø¨Ø¯Ø© Ù‡Ù†Ø§: ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ø¨Ù‚Ø© ÙˆØ§Ù„Ø³Ø±Ø¹Ø© Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØµÙˆØª Ø§Ù„Ù‚Ø¯ÙŠÙ…
            msg.pitch = 0.7; // Ø·Ø¨Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø© ØªØ¹Ø·ÙŠ Ø®Ø´ÙˆÙ†Ø© Ø±Ø¬Ø§Ù„ÙŠØ©
            msg.rate = 0.8;  // Ø³Ø±Ø¹Ø© Ø£Ø¨Ø·Ø£ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ØªØ¹Ø·ÙŠ Ø·Ø§Ø¨Ø¹ Ø¢Ù„ÙŠ Ù‚Ø¯ÙŠÙ…
            
            document.getElementById('status').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø·Ù‚ Ø¨ØµÙˆØª Ø§Ù„Ø±Ø¬Ù„...";
            
            msg.onend = () => { document.getElementById('status').innerText = ""; };

            window.speechSynthesis.speak(msg);
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© (Ù…Ù‡Ù… Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
        window.speechSynthesis.onvoiceschanged = () => { window.speechSynthesis.getVoices(); };
    </script>
</body>
</html>
